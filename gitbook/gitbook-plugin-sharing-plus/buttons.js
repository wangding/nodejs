require(["gitbook","jquery"],function(n,r){function t(t,e,o){return{label:t,icon:"fa fa-"+e,onClick:function(t){t.preventDefault(),window.open(o)}}}var e=encodeURIComponent(location.href),o=encodeURIComponent(document.title),i={douban:t("豆瓣","share","http://shuo.douban.com/!service/share?href="+e+"&name="+o),facebook:t("Facebook","facebook","http://www.facebook.com/sharer/sharer.php?s=100&p[url]="+e),google:t("Google+","google-plus","https://plus.google.com/share?url="+e),hatenaBookmark:t("はてなブックマーク","bold","http://b.hatena.ne.jp/entry/"+e),instapaper:t("instapaper","instapaper","http://www.instapaper.com/text?u="+e),line:t("LINE","comment","http://line.me/R/msg/text/?"+o+" "+e),linkedin:t("Linkedin","linkedin","https://www.linkedin.com/shareArticle?mini=true&url="+e),messenger:t("Facebook Messenger","commenting","fb-messenger://share?link="+e),pocket:t("Pocket","get-pocket","https://getpocket.com/save?url="+e+"&title="+o),qq:t("QQ","qq","http://connect.qq.com/widget/shareqq/index.html?url="+e+"&title="+o),qzone:t("QQ空间","star","http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+e+"&title="+o),stumbleupon:t("StumbleUpon","stumbleupon","http://www.stumbleupon.com/submit?url="+e+"&title="+o),twitter:t("Twitter","twitter","https://twitter.com/intent/tweet?url="+o+"&text="+o),viber:t("Viber","volume-control-phone","viber://forward?text="+e+" "+o),vk:t("VK","vk","http://vkontakte.ru/share.php?url="+e),weibo:t("新浪微博","weibo","http://service.weibo.com/share/share.php?content=utf-8&url="+e+"&title="+o),whatsapp:t("WhatsApp","whatsapp","whatsapp://send?text="+e+" "+o)};n.events.bind("start",function(t,e){var o=e.sharing,e=r.map(o.all,function(t){t=i[t];return{text:t.label,onClick:t.onClick}});0<e.length&&n.toolbar.createButton({icon:"fa fa-share-alt",label:"Share",position:"right",dropdown:[e]}),r.each(i,function(t,e){o[t]&&n.toolbar.createButton({icon:e.icon,label:e.text,position:"right",onClick:e.onClick})})})});